# Yandex Cloud IAM токен — можно оставить пустым, если используется сервисный аккаунт (см. переменные ниже)
YANDEX_CLOUD_IAM_TOKEN=

# Yandex Cloud Folder ID — взять в настройках каталога
YANDEX_CLOUD_FOLDER_ID=<замените_на_folder_id>

# Путь до JSON-ключа сервисного аккаунта (альтернатива переменной выше).
# Перед запуском скопируйте файл в каталог `secure/`; если файла нет, Docker создаст каталог и сервис не стартует.
YANDEX_CLOUD_SA_KEY_FILE=

# Либо сам JSON-ключ сервисного аккаунта (строка). Используйте при передаче через Secret Manager/CI
YANDEX_CLOUD_SA_KEY_JSON=

# Принудительно соблюдать ночное окно (true) или разрешить дневные тесты (false)
YANDEX_ENFORCE_NIGHT_WINDOW=true

# Google Sheets — ID таблицы с вводом ниш/городов (из URL вида docs.google.com/spreadsheets/d/<ID>/...)
GOOGLE_SHEET_ID=<замените_на_sheet_id>

# Лист (tab) с вводом данных. По умолчанию NICHES_INPUT
GOOGLE_SHEET_TAB=NICHES_INPUT

# Путь до JSON ключа сервисного аккаунта Google (если используете файл)
GOOGLE_SA_KEY_FILE=

# Или передайте содержимое ключа в виде строки JSON
GOOGLE_SA_KEY_JSON=

# Автоматическая синхронизация Google Sheets (true/false)
SHEET_SYNC_ENABLED=false

# Интервал синхронизации в минутах (по умолчанию 60)
SHEET_SYNC_INTERVAL_MINUTES=60

# Обрабатывать только строки с указанным batch_tag (опционально)
SHEET_SYNC_BATCH_TAG=

# Маршрутизация SMTP по MX-записям. Значения по умолчанию из docs/requirements-RU-Yandex-otherwise-Gmail.md
ROUTING_ENABLED=true
ROUTING_MX_CACHE_TTL_HOURS=168
ROUTING_DNS_TIMEOUT_MS=1500
ROUTING_DNS_RESOLVERS=1.1.1.1,8.8.8.8
# Подстроки российских MX — можно передавать через запятую или с переводами строк
ROUTING_RU_MX_PATTERNS=1c.ru,aeroflot.ru,alfabank.ru,beeline.ru,beget.com,facct.email,facct.ru,gazprom.ru,gosuslugi.ru,hh.ru,kommersant.ru,lancloud.ru,lukoil.com,magnit.ru,mail.ru,masterhost.ru,mchost.ru,megafon.ru,mos.ru,mts.ru,netangels.ru,nornik.ru,novatek.ru,pochta.ru,proactivity.ru,rambler-co.ru,rambler.ru,rbc.ru,rosatom.ru,roscosmos.ru,rt.ru,runity.ru,russianpost.ru,sber.ru,sberbank.ru,selectel.org,sevstar.net,sovcombank.ru,sprinthost.ru,tatneft.ru,tbank.ru,timeweb.ru,vtb.ru,vtbcapital.ru,wildberries.ru,x5.ru,yandex.net,yandex.ru
# Если MX заканчивается на один из TLD ниже, он также считается российским (punycode поддерживается)
ROUTING_RU_MX_TLDS=.ru,.su,.xn--p1ai,.xn--p1acf,.moscow,.moskva,.xn--80adxhks
ROUTING_FORCE_RU_DOMAINS=yandex.ru,yandex.com,mail.ru,bk.ru,inbox.ru,list.ru,rambler.ru

# Gmail SMTP — данные из Google (Security -> App Passwords). Пароль приложения обязательно в кавычки
GMAIL_SMTP_HOST=smtp.gmail.com
GMAIL_SMTP_PORT=587
GMAIL_SMTP_TLS=true
GMAIL_USER=<замените_на_gmail_login>
GMAIL_PASS=<замените_на_gmail_app_password>
GMAIL_FROM="Марк Аборчи <mark.aborchi@gmail.com>"

# Яндекс SMTP — личный аккаунт, пароль приложения берём в «Почта -> Пароли приложений»
YANDEX_SMTP_HOST=smtp.yandex.ru
YANDEX_SMTP_PORT=465
YANDEX_SMTP_SSL=true
YANDEX_USER=<замените_на_yandex_login>
YANDEX_PASS=<замените_на_yandex_app_password>
YANDEX_FROM="Марк Аборчи <mark***@yandex.ru>"

# Управляет фактической отправкой писем (true) или только сохранением в БД (false)
EMAIL_SENDING_ENABLED=true

# OpenAI API ключ — получить в личном кабинете OpenAI
OPENAI_API_KEY=<замените_на_openai_api_key>

# Таймзона пайплайна — используем московское время для ночных окон
APP_TIMEZONE=Europe/Moscow

# URL Redis — сервис очередей (используем контейнер redis)
REDIS_URL=redis://redis:6379/0
#
# Если нужен доступ к Redis с хоста, создайте `docker-compose.override.yml` и добавьте `ports` для сервиса `redis`

# Пользователь PostgreSQL — указывается в docker-compose и pg_hba
POSTGRES_USER=leadgen

# Пароль PostgreSQL — хранится в секретном менеджере или .env (локально)
POSTGRES_PASSWORD=leadgen_password

# Имя базы PostgreSQL — создаётся автоматически при запуске контейнера
POSTGRES_DB=leadgen

# Хост БД — для приложений внутри docker-compose достаточно db
POSTGRES_HOST=db

# Порт PostgreSQL — пробрасываем из docker-compose при необходимости
POSTGRES_PORT=5432
